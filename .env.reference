# BevGenie Environment Variables Reference
#
# This file documents all environment variables used by the application
# Copy this file and rename to .env.local, then fill in the values
#
# IMPORTANT: .env.local is in .gitignore and should NEVER be committed
# Only .env.reference (this file) should be committed

# ============================================================================
# PHASE 0: DATABASE & VECTOR SEARCH
# ============================================================================

# Supabase Project Configuration
# Get these from: https://app.supabase.com → Settings → API

# The URL of your Supabase project
# Format: https://[project-id].supabase.co
# Example: https://tliopsxaceedcyzjcwak.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Public/Anonymous Key (safe to expose in browser)
# Provides read access to knowledge_base and limited access to user data
# Found under "Project API Key (anon, public)"
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...

# Service Role Key (SECRET - server-side only)
# Provides full database access, used only in API routes
# Found under "Project API Key (service_role)"
# IMPORTANT: Never expose this in client-side code!
SUPABASE_SERVICE_KEY=eyJhbGc...

# ============================================================================
# PHASE 1: SESSION MANAGEMENT
# ============================================================================

# Session Encryption Secret (REQUIRED)
# Used to encrypt session cookies
# Must be at least 32 characters
#
# Generate with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# Or on macOS/Linux:
#   openssl rand -base64 32
#
# IMPORTANT: Must be the same on all instances (for load-balanced deployments)
SESSION_SECRET=your-32-byte-base64-encoded-secret-here

# ============================================================================
# AI APIS
# ============================================================================

# OpenAI API Key
# Used for:
# - Text embeddings (text-embedding-3-small) for vector search
# - LLM prompting (GPT-4o) for persona detection and brochure generation
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Anthropic API Key (optional)
# Alternative/complementary LLM for AI features
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# ============================================================================
# NEXTAUTH.JS CONFIGURATION (PHASE 2+)
# ============================================================================

# NextAuth Secret (auto-generated if not set, but set explicitly for security)
# Used to encrypt tokens and sessions
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-secret-here

# NextAuth URL (where your app is deployed)
# For development: http://localhost:3000
# For production: https://yourdomain.com
NEXTAUTH_URL=http://localhost:3000

# ============================================================================
# OAUTH PROVIDERS (Optional, PHASE 2+)
# ============================================================================

# Google OAuth
# Get from: https://console.developers.google.com/
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Microsoft OAuth
# Get from: https://portal.azure.com/
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=

# ============================================================================
# CRM INTEGRATIONS (Optional, PHASE 6+)
# ============================================================================

# Salesforce Integration
# Get from: https://developer.salesforce.com/
SALESFORCE_CLIENT_ID=
SALESFORCE_CLIENT_SECRET=
SALESFORCE_INSTANCE_URL=

# HubSpot Integration
# Get from: https://app.hubspot.com/
HUBSPOT_API_KEY=
HUBSPOT_CLIENT_ID=
HUBSPOT_CLIENT_SECRET=

# Pipedrive Integration
# Get from: https://pipedrive.com/
PIPEDRIVE_API_KEY=

# ============================================================================
# DATA ENRICHMENT SERVICES (Optional)
# ============================================================================

# Clearbit - Email verification and company data
# Get from: https://clearbit.com/
CLEARBIT_API_KEY=

# ZoomInfo - B2B contact and company database
# Get from: https://www.zoominfo.com/
ZOOMINFO_API_KEY=

# ============================================================================
# CACHING & PERFORMANCE
# ============================================================================

# Redis URL (for caching)
# Format: redis://[username:password@]host:port/[db]
# For local development: redis://localhost:6379
# For production: redis://[your-provider]
REDIS_URL=redis://localhost:6379

# ============================================================================
# ERROR TRACKING & MONITORING
# ============================================================================

# Sentry - Error tracking and performance monitoring
# Get from: https://sentry.io/
SENTRY_DSN=
SENTRY_AUTH_TOKEN=

# Vercel Analytics
# Get from: https://vercel.com/analytics
VERCEL_ANALYTICS_ID=

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# SMTP Configuration (for transactional emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# From address for emails
EMAIL_FROM=noreply@yourdomain.com

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Application URL (public)
# Used for redirects, email links, etc.
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Application name (shown in UI)
NEXT_PUBLIC_APP_NAME=BevGenie

# Application domain (for cookie configuration)
# For development: localhost
# For production: yourdomain.com
NEXT_PUBLIC_APP_DOMAIN=localhost

# Node environment
# Values: development, production, test
NODE_ENV=development

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable personalization features
NEXT_PUBLIC_ENABLE_PERSONALIZATION=true

# Enable analytics tracking
NEXT_PUBLIC_ENABLE_ANALYTICS=true

# Enable data connection features (Phase 3+)
NEXT_PUBLIC_ENABLE_DATA_CONNECTION=false

# Enable CRM integrations (Phase 6+)
NEXT_PUBLIC_ENABLE_CRM_INTEGRATION=false

# ============================================================================
# DEVELOPMENT CONFIGURATION
# ============================================================================

# Enable debug logging
DEBUG=bevgenie:*

# Enable verbose database logging
LOG_DATABASE_QUERIES=false

# Session timeout (seconds) - for development
SESSION_TIMEOUT=86400  # 24 hours

# Idle timeout (seconds) - for development
IDLE_TIMEOUT=86400  # 24 hours

# ============================================================================
# ENVIRONMENT-SPECIFIC NOTES
# ============================================================================
#
# DEVELOPMENT (.env.local):
#   - Can use localhost URLs
#   - Can use test API keys
#   - Session cookies can be non-secure (http)
#   - Debug logging should be enabled
#
# STAGING:
#   - Use real domain names
#   - Use staging API keys
#   - Session cookies must be secure (https)
#   - Some features may be toggled off
#
# PRODUCTION:
#   - ALWAYS use https
#   - ALWAYS use real API keys
#   - NEVER expose service keys in client code
#   - Enable all security headers
#   - Enable rate limiting
#   - Enable CORS restrictions
#   - Enable monitoring and alerting
#
# ============================================================================
# VALIDATION CHECKLIST
# ============================================================================
#
# Before deploying, verify:
# ✅ SESSION_SECRET is set and 32+ characters
# ✅ SUPABASE_SERVICE_KEY is NOT exposed in client code
# ✅ All required API keys are set (OPENAI_API_KEY, NEXTAUTH_SECRET)
# ✅ NEXTAUTH_URL matches your domain
# ✅ DATABASE_URL or SUPABASE_URL is correct
# ✅ Email configuration is correct (SMTP_*)
# ✅ Feature flags match your deployment target
# ✅ NODE_ENV is set correctly
# ✅ No secrets are committed to git
# ✅ .env.local is in .gitignore
#
# ============================================================================
